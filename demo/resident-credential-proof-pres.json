# (1) default, let aca-py decide and based on the received proof request
{
  "dif": {
  }
}

# (2) let aca-py decide, but override the received proof request
{
  "dif": {
    "issuer_id": "did:key:zUC73hAFuLsNh9A1vX69HfbYM9VM4nhACzwATntJK1CTRVx8qmL2WKRXXQTrxXDZz2uGsT1KtS31DDAv3syEMzMirkCPCfHduWospemWf3MovjGvnWqrzcjHiuj6co9BVgdVKcE",
    "presentation_definition": {
      "format": {
        "ldp_vp": {
          "proof_type": [
            "BbsBlsSignature2020"
          ]
        }
      },
      "id": "32f54163-7166-48f1-93d8-ff217bdb0654",
      "input_descriptors": [
        {
          "id": "citizenship_input_1",
          "name": "Some kind of citizenship check",
          "schema": [
            {
              "uri": "https://www.w3.org/2018/credentials#VerifiableCredential"
            },
            {
              "uri": "https://w3id.org/citizenship#PermanentResident"
            }
          ],
          "constraints": {
            "limit_disclosure": "required",
            "fields": [
              {
                "path": [
                  "$.credentialSubject.familyName"
                ],
                "purpose": "The claim must be from one of the specified issuers",
                "filter": {
                  "const": "SMITH"
                }
              }
            ]
          }
        }
      ]
    }
  }
}

# (3) override the received proof request and specify the specific credential to present by record_id
{
  "dif": {
    "issuer_id": "did:key:zUC73hAFuLsNh9A1vX69HfbYM9VM4nhACzwATntJK1CTRVx8qmL2WKRXXQTrxXDZz2uGsT1KtS31DDAv3syEMzMirkCPCfHduWospemWf3MovjGvnWqrzcjHiuj6co9BVgdVKcE",
    "presentation_definition": {
      "format": {
        "ldp_vp": {
          "proof_type": [
            "BbsBlsSignature2020"
          ]
        }
      },
      "id": "32f54163-7166-48f1-93d8-ff217bdb0654",
      "input_descriptors": [
        {
          "id": "citizenship_input_1",
          "name": "Some kind of citizenship check",
          "schema": [
            {
              "uri": "https://www.w3.org/2018/credentials#VerifiableCredential"
            },
            {
              "uri": "https://w3id.org/citizenship#PermanentResident"
            }
          ],
          "constraints": {
            "limit_disclosure": "required",
            "fields": [
              {
                "path": [
                  "$.credentialSubject.familyName"
                ],
                "purpose": "The claim must be from one of the specified issuers",
                "filter": {
                  "const": "SMITH"
                }
              },
              {
                  "path": [
                      "$.credentialSubject.birthDate"
                  ],
                  "purpose": "Specify the id of the credential to present",
                  "filter": {
                      "const": "1958-07-17"
                  }
              }
            ]
          }
        }
      ]
    }
  }
}

# (4) Second attempt to add additional constraints to the presented presentation
{
  "dif": {
    "issuer_id": "did:key:zUC73hAFuLsNh9A1vX69HfbYM9VM4nhACzwATntJK1CTRVx8qmL2WKRXXQTrxXDZz2uGsT1KtS31DDAv3syEMzMirkCPCfHduWospemWf3MovjGvnWqrzcjHiuj6co9BVgdVKcE",
    "presentation_definition": {
      "format": {
        "ldp_vp": {
          "proof_type": [
            "BbsBlsSignature2020"
          ]
        }
      },
      "id": "32f54163-7166-48f1-93d8-ff217bdb0654",
      "submission_requirements":[
           {
              "name": "Family Name",
              "rule": "all",
              "from": "A"
          },
          {
              "name": "Given ID",
              "rule": "all",
              "from": "B"
          }
      ],
      "input_descriptors": [
        {
          "id": "citizenship_input_1",
          "group":[
              "A"
          ],
          "name": "Some kind of citizenship check",
          "schema": [
            {
              "uri": "https://www.w3.org/2018/credentials#VerifiableCredential"
            },
            {
              "uri": "https://w3id.org/citizenship#PermanentResident"
            }
          ],
          "constraints": {
            "limit_disclosure": "required",
            "fields": [
              {
                "path": [
                  "$.credentialSubject.familyName"
                ],
                "purpose": "The claim must be from one of the specified issuers",
                "filter": {
                  "const": "SMITH"
                }
              }
            ]
          }
        },
        {
              "id":"pr_input_2",
              "group":[
                  "B"
              ],
              "schema":[
                  {
                      "uri":"https://www.w3.org/2018/credentials#VerifiableCredential"
                  }
              ],
              "constraints":{
                  "limit_disclosure": "required",
                  "fields":[
                      {
                          "path":[
                              "$.proof.proofValue"
                          ],
                          "filter":{
                              "const":"jADisunsUqgTV96QieMqSo4jOxk59y9kkuKCTBlyd9WK2iwWtiKEhYJbafH1F+gkQgVgPqYuYmaLi0EmDLE9GcvlM5cQbIZf+ZMfjNTfT0k5pWWeLk9KJXrKMNhXiwFZTKjV+7u8tI/9ht84/G4n/Q==",
                          }
                      }
                  ]
              }
          }
      ]
    }
  }
}

